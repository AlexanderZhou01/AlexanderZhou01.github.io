# 记一次项目总结

标签（空格分隔）： java

---

一、项目简介：　　

　　本项目为电信采集项目的一个子模块，主要功能是电信宽带上网信息的采集与入库，用户通过NAS服务器拨号上网，

NAS服务器向AAA服务器发送验证请求，AAA服务器完成验证请求并向NAS服务器授权，完成验证，NAS服务器为用户

接入ISP网络，AAA服务器会将用户的登录退出信息生成日志文件，我们所开发的信息采集系统就负责对这些日志文件进

行采集，处理，备份，上传至服务器，并存入数据库中。

![项目分析图][1]

二、系统问题简析

　　　　（1）采集系统：　　　　

　　　　　　1.计费对象
　　　　　　　　　　1.1分时段采集
　　　　　　　　　　　　记录 采集数据的节点
　　　　　　　　　　　　从什么位置开始
　　　　　　　　　　　　到什么位置结束
　　　　　　　　　　1.2如果只采集到上线信息，但是没有下线信息，数据怎么处理。
　　　　　　　　　　1.3所有采集到的，既有上线又有下线信息的数据对象，最终都要发送到中央服务器进行入库，那么发送给中央处理器时怎么发送。

　　　　　　　　　　　　应用技术：可能需要使用I/O（输入/输出）
　　　　　　　　　　　　数组/集合。

　　　　　　2. 网络发送端模块：
　　　　　　　　将采集模块采集到的完整上下线记录发送到中央服务器进行入库
　　　　　　　　2.1.如果网络连接出错。
　　　　　　　　2.2.发送数据出错，数据不能丢。涉及到到对数据的处理

　　　　　　　　应用技术：java中的网络编程
　　　　　　　　TCP/UDP

　　　　　　3.备份模块：
　　　　　　　　　　3.1.能够对所有想要备份的数据进行备份。
　　　　　　　　　　　　持久化介质不同
　　　　　　　　　　　　file:I/O
　　　　　　　　　　　　DB:JDBC/mybatis

　　　　　　4.日志记录模块：
　　　　　　　　　　对于发送端(AAA/采集端)来说：
　　　　　　　　　　4.1.采集端在什么时间节点开始采集了
　　　　　　　　　　4.2.从radwtmp文件的那个位置开始采集的
　　　　　　　　　　4.3.到什么位置结束的
　　　　　　　　　　4.4.本次采集到的数据有多少数据记录
　　　　　　　　　　4.5.出错了，错误信息也需要记录。

　　　　　　　　　　log4j:
　　　　　　　　　　I/O:
　　　　　　5.配置模块：

　　　　　　　　能够在不影响源程序的情况下，对于有可能会发生变化的信息进行动态设置：
　　　　　　　　1.读取的radwtmp文件名字发生变化
　　　　　　　　2.比如中央服务器的ip发生变化
　　　　　　　　3.数据库连接信息发生变化

　　　　　　　　配置信息的存储方式。 -----》 解析数据的方式。
　　　　　　　　xml ---	> dom4j

　　　　

　　　　（2）入库模块

　　　　　　1.网络接收模块： 
　　　　　　　　　　用来接收AAA服务器上所运行的采集系统的发送端，所发送过来的数据
　　　　　　　　　　和数据库连接出现异常，那么需要对接收到的数据进行处理(备份)。
　　　　　　　　　　并发接收采集端发送的数据。

　　　　　　　　应用技术：java的网络编程（接收端）
　　　　　　　　多线程。线程机制。

　　　　　　2.备份模块： 同AAA端的备份。
　　　　　　3.入库模块： -----> oracle
　　　　　　　　　　　　批处理	
　　　　　　　　　　　　的设计
　　　　　　　　　　　　入库-------》将数据写入到那张数据库表中。
　　　　　　　　　　　　如果入库出差，那么也需要对想要入库的数据进行处理(备份)
　　　　　　4.日志模块：同AAA端日志模块。
　　　　　　　　　　　　1.服务器在什么时间点，接收到由xx发送的数据
　　　　　　　　　　　　2.数据有xxx条
　　　　　　　　　　　　3.如果系统运行出错，记录错误信息，错误过程。
　　　　　　5.配置模块：能够在不影响源程序的情况下，对于有可能会发生变化的信息进行动态设置

三、项目总结

　　　　　　1.遵守开发规范，多思考其他方法是好事，但是不按照规范进行开发，最终会导致各种各样的问题
　　　　　　2.对基础的流操作需要熟练于心，打牢java基础
　　　　　　3.理清业务需求再进行编码工作，不要盲目上手代码开发
　　　　　　4.实践出真知


  [1]: https://images2017.cnblogs.com/blog/955700/201712/955700-20171226184839432-1592355448.png